<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Infomap community finding — netclu_infomap • bioregion</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Infomap community finding — netclu_infomap"><meta name="description" content="This function finds communities in a (un)weighted (un)directed network based
on the Infomap algorithm (https://github.com/mapequation/infomap)."><meta property="og:description" content="This function finds communities in a (un)weighted (un)directed network based
on the Infomap algorithm (https://github.com/mapequation/infomap)."><meta property="og:image" content="https://bioRgeo.github.io/bioregion/logo.svg"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">bioregion</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.2.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/bioregion.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-tutorials" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Tutorials</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-tutorials"><li><a class="dropdown-item" href="../articles/a1_install_binary_files.html">1. Installation of the binary files</a></li>
    <li><a class="dropdown-item" href="../articles/a2_matrix_and_network_formats.html">2. Matrix and network formats</a></li>
    <li><a class="dropdown-item" href="../articles/a3_pairwise_metrics.html">3. Pairwise similarity/dissimilarity metrics</a></li>
    <li><a class="dropdown-item" href="../articles/a4_1_hierarchical_clustering.html">4.1 Hierarchical clustering</a></li>
    <li><a class="dropdown-item" href="../articles/a4_2_non_hierarchical_clustering.html">4.2 Non-hierarchical clustering</a></li>
    <li><a class="dropdown-item" href="../articles/a4_3_network_clustering.html">4.3 Network clustering</a></li>
    <li><a class="dropdown-item" href="../articles/a4_4_microbenchmark.html">4.4 Microbenchmark</a></li>
    <li><a class="dropdown-item" href="../articles/a5_1_visualization.html">5.1 Visualization</a></li>
    <li><a class="dropdown-item" href="../articles/a5_2_compare_bioregionalizations.html">5.2 Compare bioregionalizations</a></li>
    <li><a class="dropdown-item" href="../articles/a5_3_summary_metrics.html">5.3 Summary metrics</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-applications" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Applications</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-applications"><li><a class="dropdown-item" href="../articles/citations.html">Citing articles</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-news" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">News</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-news"><li><h6 class="dropdown-header" data-toc-skip>Releases</h6></li>
    <li><a class="external-link dropdown-item" href="https://github.com/bioRgeo/bioregion/releases/tag/v1.2.0">Version 1.2.0</a></li>
    <li><a class="external-link dropdown-item" href="https://github.com/bioRgeo/bioregion/releases/tag/v1.1.1">Version 1.1.1</a></li>
    <li><a class="external-link dropdown-item" href="https://github.com/bioRgeo/bioregion/releases/tag/v1.1.0">Version 1.1.0</a></li>
    <li><a class="external-link dropdown-item" href="https://github.com/bioRgeo/bioregion/releases/tag/v1.0.0">Version 1.0.0</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../news/index.html">Changelog</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/bioRgeo/bioregion/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Infomap community finding</h1>
      <small class="dont-index">Source: <a href="https://github.com/bioRgeo/bioregion/blob/master/R/netclu_infomap.R" class="external-link"><code>R/netclu_infomap.R</code></a></small>
      <div class="d-none name"><code>netclu_infomap.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function finds communities in a (un)weighted (un)directed network based
on the Infomap algorithm (<a href="https://github.com/mapequation/infomap" class="external-link">https://github.com/mapequation/infomap</a>).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">netclu_infomap</span><span class="op">(</span></span>
<span>  <span class="va">net</span>,</span>
<span>  weight <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  cut_weight <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  index <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">net</span><span class="op">)</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span>,</span>
<span>  seed <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  nbmod <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  markovtime <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  numtrials <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  twolevel <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  show_hierarchy <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  directed <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  bipartite_version <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  bipartite <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  site_col <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  species_col <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  return_node_type <span class="op">=</span> <span class="st">"both"</span>,</span>
<span>  version <span class="op">=</span> <span class="st">"2.8.0"</span>,</span>
<span>  binpath <span class="op">=</span> <span class="st">"tempdir"</span>,</span>
<span>  check_install <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  path_temp <span class="op">=</span> <span class="st">"infomap_temp"</span>,</span>
<span>  delete_temp <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-net">net<a class="anchor" aria-label="anchor" href="#arg-net"></a></dt>
<dd><p>The output object from <code><a href="similarity.html">similarity()</a></code> or
<code><a href="dissimilarity_to_similarity.html">dissimilarity_to_similarity()</a></code>.
If a <code>data.frame</code> is used, the first two columns represent pairs of
sites (or any pair of nodes), and the next column(s) are the similarity
indices.</p></dd>


<dt id="arg-weight">weight<a class="anchor" aria-label="anchor" href="#arg-weight"></a></dt>
<dd><p>A <code>boolean</code> indicating if the weights should be considered
if there are more than two columns.</p></dd>


<dt id="arg-cut-weight">cut_weight<a class="anchor" aria-label="anchor" href="#arg-cut-weight"></a></dt>
<dd><p>A minimal weight value. If <code>weight</code> is TRUE, the links
between sites with a weight strictly lower than this value will not be
considered (<code>0</code> by default).</p></dd>


<dt id="arg-index">index<a class="anchor" aria-label="anchor" href="#arg-index"></a></dt>
<dd><p>The name or number of the column to use as weight. By default,
the third column name of <code>net</code> is used.</p></dd>


<dt id="arg-seed">seed<a class="anchor" aria-label="anchor" href="#arg-seed"></a></dt>
<dd><p>The seed for the random number generator (<code>NULL</code> for random by
default).</p></dd>


<dt id="arg-nbmod">nbmod<a class="anchor" aria-label="anchor" href="#arg-nbmod"></a></dt>
<dd><p>Penalize solutions the more they differ from this number (<code>0</code> by
default for no preferred number of modules).</p></dd>


<dt id="arg-markovtime">markovtime<a class="anchor" aria-label="anchor" href="#arg-markovtime"></a></dt>
<dd><p>Scales link flow to change the cost of moving between
modules, higher values result in fewer modules (<code>1</code> by default).</p></dd>


<dt id="arg-numtrials">numtrials<a class="anchor" aria-label="anchor" href="#arg-numtrials"></a></dt>
<dd><p>For the number of trials before picking up the best
solution.</p></dd>


<dt id="arg-twolevel">twolevel<a class="anchor" aria-label="anchor" href="#arg-twolevel"></a></dt>
<dd><p>A <code>boolean</code> indicating if the algorithm should optimize a
two-level partition of the network (<code>FALSE</code> by default for multi-level).</p></dd>


<dt id="arg-show-hierarchy">show_hierarchy<a class="anchor" aria-label="anchor" href="#arg-show-hierarchy"></a></dt>
<dd><p>A <code>boolean</code> specifying if the hierarchy of community
should be identifiable in the outputs (<code>FALSE</code> by default).</p></dd>


<dt id="arg-directed">directed<a class="anchor" aria-label="anchor" href="#arg-directed"></a></dt>
<dd><p>A <code>boolean</code> indicating if the network is directed (from
column 1 to column 2).</p></dd>


<dt id="arg-bipartite-version">bipartite_version<a class="anchor" aria-label="anchor" href="#arg-bipartite-version"></a></dt>
<dd><p>A <code>boolean</code> indicating if the bipartite version of
Infomap should be used (see Note).</p></dd>


<dt id="arg-bipartite">bipartite<a class="anchor" aria-label="anchor" href="#arg-bipartite"></a></dt>
<dd><p>A <code>boolean</code> indicating if the network is bipartite
(see Note).</p></dd>


<dt id="arg-site-col">site_col<a class="anchor" aria-label="anchor" href="#arg-site-col"></a></dt>
<dd><p>The name or number for the column of site nodes
(i.e. primary nodes).</p></dd>


<dt id="arg-species-col">species_col<a class="anchor" aria-label="anchor" href="#arg-species-col"></a></dt>
<dd><p>The name or number for the column of species nodes
(i.e. feature nodes).</p></dd>


<dt id="arg-return-node-type">return_node_type<a class="anchor" aria-label="anchor" href="#arg-return-node-type"></a></dt>
<dd><p>A <code>character</code> indicating what types of nodes
(<code>"site"</code>, <code>"species"</code>, or <code>"both"</code>) should be returned in the output
(<code>"both"</code> by default).</p></dd>


<dt id="arg-version">version<a class="anchor" aria-label="anchor" href="#arg-version"></a></dt>
<dd><p>A <code>character</code> indicating the Infomap version to use.</p></dd>


<dt id="arg-binpath">binpath<a class="anchor" aria-label="anchor" href="#arg-binpath"></a></dt>
<dd><p>A <code>character</code> indicating the path to the bin folder
(see <a href="install_binaries.html">install_binaries</a> and Details).</p></dd>


<dt id="arg-check-install">check_install<a class="anchor" aria-label="anchor" href="#arg-check-install"></a></dt>
<dd><p>A <code>boolean</code> indicating if the function should check that
the Infomap has been properly installed (see <a href="install_binaries.html">install_binaries</a> and Details).</p></dd>


<dt id="arg-path-temp">path_temp<a class="anchor" aria-label="anchor" href="#arg-path-temp"></a></dt>
<dd><p>A <code>character</code> indicating the path to the temporary folder
(see Details).</p></dd>


<dt id="arg-delete-temp">delete_temp<a class="anchor" aria-label="anchor" href="#arg-delete-temp"></a></dt>
<dd><p>A <code>boolean</code> indicating if the temporary folder should
be removed (see Details).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code>list</code> of class <code>bioregion.clusters</code> with five slots:</p><ol><li><p><strong>name</strong>: A <code>character</code> containing the name of the algorithm.</p></li>
<li><p><strong>args</strong>: A <code>list</code> of input arguments as provided by the user.</p></li>
<li><p><strong>inputs</strong>: A <code>list</code> of characteristics of the clustering process.</p></li>
<li><p><strong>algorithm</strong>: A <code>list</code> of all objects associated with the
clustering procedure, such as original cluster objects.</p></li>
<li><p><strong>clusters</strong>: A <code>data.frame</code> containing the clustering results.</p></li>
</ol><p>In the <code>algorithm</code> slot, users can find the following elements:</p>
<ul><li><p><code>cmd</code>: The command line used to run Infomap.</p></li>
<li><p><code>version</code>: The Infomap version.</p></li>
<li><p><code>web</code>: Infomap's GitHub repository.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Infomap is a network clustering algorithm based on the Map equation proposed
in Rosvall &amp; Bergstrom (2008) that finds communities in (un)weighted
and (un)directed networks.</p>
<p>This function is based on the C++ version of Infomap
(<a href="https://github.com/mapequation/infomap/releases" class="external-link">https://github.com/mapequation/infomap/releases</a>).
This function needs binary files to run. They can be installed
with <a href="install_binaries.html">install_binaries</a>.</p>
<p><strong>If you changed the default path to the <code>bin</code> folder
while running <a href="install_binaries.html">install_binaries</a> PLEASE MAKE SURE to set <code>binpath</code>
accordingly.</strong></p>
<p><strong>If you did not use <a href="install_binaries.html">install_binaries</a> to change the permissions and test
the binary files PLEASE MAKE SURE to set <code>check_install</code> accordingly.</strong></p>
<p>The C++ version of Infomap generates temporary folders and/or files that are
stored in the <code>path_temp</code> folder ("infomap_temp" with a unique timestamp
located in the bin folder in <code>binpath</code> by default). This temporary folder is
removed by default (<code>delete_temp = TRUE</code>).</p>
<p>Several versions of Infomap are available in the package. See
<a href="install_binaries.html">install_binaries</a> for more details.</p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>Infomap has been designed to deal with bipartite networks. To use this
functionality, set the <code>bipartite_version</code> argument to TRUE in order to
approximate a two-step random walker (see
<a href="https://www.mapequation.org/infomap/" class="external-link">https://www.mapequation.org/infomap/</a> for more information). Note that
a bipartite network can also be considered as a unipartite network
(<code>bipartite = TRUE</code>).</p>
<p>In both cases, do not forget to indicate which of the first two columns is
dedicated to the site nodes (i.e., primary nodes) and species nodes (i.e.
feature nodes) using the arguments <code>site_col</code> and <code>species_col</code>.
The type of nodes returned in the output can be chosen with the argument
<code>return_node_type</code> equal to <code>"both"</code> to keep both types of nodes, <code>"site"</code>
to preserve only the site nodes, and <code>"species"</code> to preserve only the
species nodes.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Rosvall M &amp; Bergstrom CT (2008) Maps of random walks on complex networks
reveal community structure. <em>Proceedings of the National Academy of
Sciences</em> 105, 1118-1123.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>For more details illustrated with a practical example,
see the vignette:
<a href="https://biorgeo.github.io/bioregion/articles/a4_3_network_clustering.html" class="external-link">https://biorgeo.github.io/bioregion/articles/a4_3_network_clustering.html</a>.</p>
<p>Associated functions:
<a href="netclu_greedy.html">netclu_greedy</a> <a href="netclu_louvain.html">netclu_louvain</a> <a href="netclu_oslom.html">netclu_oslom</a></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Maxime Lenormand (<a href="mailto:maxime.lenormand@inrae.fr">maxime.lenormand@inrae.fr</a>) <br>
Pierre Denelle (<a href="mailto:pierre.denelle@gmail.com">pierre.denelle@gmail.com</a>) <br>
Boris Leroy (<a href="mailto:leroy.boris@gmail.com">leroy.boris@gmail.com</a>)</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">comat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">1000</span>, <span class="fl">50</span><span class="op">)</span>, <span class="fl">5</span>, <span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="va">comat</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"Site"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">comat</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"Species"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">net</span> <span class="op">&lt;-</span> <span class="fu"><a href="similarity.html">similarity</a></span><span class="op">(</span><span class="va">comat</span>, metric <span class="op">=</span> <span class="st">"Simpson"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">com</span> <span class="op">&lt;-</span> <span class="fu">netclu_infomap</span><span class="op">(</span><span class="va">net</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Infomap 2.8.0 is not installed... Please have a look at https//bioRgeo.github.io/bioregion/articles/a1_install_binary_files.html for more details.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> It should be located in /tmp/RtmpCm5cax/bin/INFOMAP/2.8.0/</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Maxime Lenormand, Boris Leroy, Pierre Denelle.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer></div>





  </body></html>

