<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Search for an optimal number of clusters in a list of bioregionalizations — find_optimal_n • bioregion</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Search for an optimal number of clusters in a list of bioregionalizations — find_optimal_n"><meta name="description" content="This function aims to optimize one or several criteria on a set of
ordered bioregionalizations. It is typically used to find one or more optimal
cluster counts on hierarchical trees to cut or ranges of bioregionalizations
from k-means or PAM. Users should exercise caution in other cases
(e.g., unordered bioregionalizations or unrelated bioregionalizations)."><meta property="og:description" content="This function aims to optimize one or several criteria on a set of
ordered bioregionalizations. It is typically used to find one or more optimal
cluster counts on hierarchical trees to cut or ranges of bioregionalizations
from k-means or PAM. Users should exercise caution in other cases
(e.g., unordered bioregionalizations or unrelated bioregionalizations)."><meta property="og:image" content="https://bioRgeo.github.io/bioregion/logo.svg"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">bioregion</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.2.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/bioregion.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-tutorials" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Tutorials</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-tutorials"><li><a class="dropdown-item" href="../articles/a1_install_binary_files.html">1. Installation of the binary files</a></li>
    <li><a class="dropdown-item" href="../articles/a2_matrix_and_network_formats.html">2. Matrix and network formats</a></li>
    <li><a class="dropdown-item" href="../articles/a3_pairwise_metrics.html">3. Pairwise similarity/dissimilarity metrics</a></li>
    <li><a class="dropdown-item" href="../articles/a4_1_hierarchical_clustering.html">4.1 Hierarchical clustering</a></li>
    <li><a class="dropdown-item" href="../articles/a4_2_non_hierarchical_clustering.html">4.2 Non-hierarchical clustering</a></li>
    <li><a class="dropdown-item" href="../articles/a4_3_network_clustering.html">4.3 Network clustering</a></li>
    <li><a class="dropdown-item" href="../articles/a4_4_microbenchmark.html">4.4 Microbenchmark</a></li>
    <li><a class="dropdown-item" href="../articles/a5_1_visualization.html">5.1 Visualization</a></li>
    <li><a class="dropdown-item" href="../articles/a5_2_compare_bioregionalizations.html">5.2 Compare bioregionalizations</a></li>
    <li><a class="dropdown-item" href="../articles/a5_3_summary_metrics.html">5.3 Summary metrics</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-applications" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Applications</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-applications"><li><a class="dropdown-item" href="../articles/citations.html">Citing articles</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-news" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">News</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-news"><li><h6 class="dropdown-header" data-toc-skip>Releases</h6></li>
    <li><a class="external-link dropdown-item" href="https://github.com/bioRgeo/bioregion/releases/tag/v1.2.0">Version 1.2.0</a></li>
    <li><a class="external-link dropdown-item" href="https://github.com/bioRgeo/bioregion/releases/tag/v1.1.1">Version 1.1.1</a></li>
    <li><a class="external-link dropdown-item" href="https://github.com/bioRgeo/bioregion/releases/tag/v1.1.0">Version 1.1.0</a></li>
    <li><a class="external-link dropdown-item" href="https://github.com/bioRgeo/bioregion/releases/tag/v1.0.0">Version 1.0.0</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../news/index.html">Changelog</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/bioRgeo/bioregion/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Search for an optimal number of clusters in a list of bioregionalizations</h1>
      <small class="dont-index">Source: <a href="https://github.com/bioRgeo/bioregion/blob/master/R/find_optimal_n.R" class="external-link"><code>R/find_optimal_n.R</code></a></small>
      <div class="d-none name"><code>find_optimal_n.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function aims to optimize one or several criteria on a set of
ordered bioregionalizations. It is typically used to find one or more optimal
cluster counts on hierarchical trees to cut or ranges of bioregionalizations
from k-means or PAM. Users should exercise caution in other cases
(e.g., unordered bioregionalizations or unrelated bioregionalizations).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">find_optimal_n</span><span class="op">(</span></span>
<span>  <span class="va">bioregionalizations</span>,</span>
<span>  metrics_to_use <span class="op">=</span> <span class="st">"all"</span>,</span>
<span>  criterion <span class="op">=</span> <span class="st">"elbow"</span>,</span>
<span>  step_quantile <span class="op">=</span> <span class="fl">0.99</span>,</span>
<span>  step_levels <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  step_round_above <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  metric_cutoffs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">0.75</span>, <span class="fl">0.9</span>, <span class="fl">0.95</span>, <span class="fl">0.99</span>, <span class="fl">0.999</span><span class="op">)</span>,</span>
<span>  n_breakpoints <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  plot <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-bioregionalizations">bioregionalizations<a class="anchor" aria-label="anchor" href="#arg-bioregionalizations"></a></dt>
<dd><p>A <code>bioregion.bioregionalization.metrics</code> object
(output from
<code><a href="bioregionalization_metrics.html">bioregionalization_metrics()</a></code>) or a <code>data.frame</code> with the first two
columns named <code>K</code> (bioregionalization name) and <code>n_clusters</code> (number of clusters),
followed by columns with numeric evaluation metrics.</p></dd>


<dt id="arg-metrics-to-use">metrics_to_use<a class="anchor" aria-label="anchor" href="#arg-metrics-to-use"></a></dt>
<dd><p>A <code>character</code> vector or single string specifying
metrics in <code>bioregionalizations</code> for calculating optimal clusters. Defaults
to <code>"all"</code> (uses all metrics).</p></dd>


<dt id="arg-criterion">criterion<a class="anchor" aria-label="anchor" href="#arg-criterion"></a></dt>
<dd><p>A <code>character</code> string specifying the criterion to identify
optimal clusters. Options include <code>"elbow"</code>, <code>"increasing_step"</code>,
<code>"decreasing_step"</code>, <code>"cutoff"</code>, <code>"breakpoints"</code>, <code>"min"</code>, or <code>"max"</code>.
Defaults to <code>"elbow"</code>. See Details.</p></dd>


<dt id="arg-step-quantile">step_quantile<a class="anchor" aria-label="anchor" href="#arg-step-quantile"></a></dt>
<dd><p>For <code>"increasing_step"</code> or <code>"decreasing_step"</code>,
specifies the quantile of differences between consecutive bioregionalizations as
the cutoff to identify significant steps in <code>eval_metric</code>.</p></dd>


<dt id="arg-step-levels">step_levels<a class="anchor" aria-label="anchor" href="#arg-step-levels"></a></dt>
<dd><p>For <code>"increasing_step"</code> or <code>"decreasing_step"</code>, specifies
the number of largest steps to retain as cutoffs.</p></dd>


<dt id="arg-step-round-above">step_round_above<a class="anchor" aria-label="anchor" href="#arg-step-round-above"></a></dt>
<dd><p>A <code>boolean</code> indicating whether the optimal clusters
are above (<code>TRUE</code>) or below (<code>FALSE</code>) identified steps. Defaults to <code>TRUE</code>.</p></dd>


<dt id="arg-metric-cutoffs">metric_cutoffs<a class="anchor" aria-label="anchor" href="#arg-metric-cutoffs"></a></dt>
<dd><p>For <code>criterion = "cutoff"</code>, specifies the cutoffs
of <code>eval_metric</code> to extract cluster counts.</p></dd>


<dt id="arg-n-breakpoints">n_breakpoints<a class="anchor" aria-label="anchor" href="#arg-n-breakpoints"></a></dt>
<dd><p>Specifies the number of breakpoints to find in the
curve. Defaults to 1.</p></dd>


<dt id="arg-plot">plot<a class="anchor" aria-label="anchor" href="#arg-plot"></a></dt>
<dd><p>A <code>boolean</code> indicating if a plot of the first <code>eval_metric</code>
with identified optimal clusters should be drawn.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code>list</code> of class <code>bioregion.optimal.n</code> with these elements:</p><ul><li><p><code>args</code>: Input arguments.</p></li>
<li><p><code>evaluation_df</code>: The input evaluation <code>data.frame</code>, appended with
<code>boolean</code> columns for optimal cluster counts.</p></li>
<li><p><code>optimal_nb_clusters</code>: A <code>list</code> with optimal cluster counts for each
metric in <code>"metrics_to_use"</code>, based on the chosen <code>criterion</code>.</p></li>
<li><p><code>plot</code>: The plot (if requested).</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function explores evaluation metric ~ cluster relationships, applying
criteria to find optimal cluster counts.</p>
<p><strong>Note on criteria:</strong> Several criteria can return multiple optimal cluster
counts, emphasizing hierarchical or nested bioregionalizations. This
approach aligns with modern recommendations for biological datasets, as seen
in Ficetola et al. (2017)'s reanalysis of Holt et al. (2013).</p>
<p><strong>Criteria for optimal clusters:</strong></p><ul><li><p><code>elbow</code>: Identifies the "elbow" point in the evaluation metric curve,
where incremental improvements diminish. Based on a method to find the
maximum distance from a straight line linking curve endpoints.</p></li>
<li><p><code>increasing_step</code> or <code>decreasing_step</code>: Highlights significant
increases or decreases in metrics by analyzing pairwise differences between
bioregionalizations. Users specify <code>step_quantile</code> or <code>step_levels</code>.</p></li>
<li><p><code>cutoffs</code>: Derives clusters from specified metric cutoffs, e.g., as in
Holt et al. (2013). Adjust cutoffs based on spatial scale.</p></li>
<li><p><code>breakpoints</code>: Uses segmented regression to find breakpoints. Requires
specifying <code>n_breakpoints</code>.</p></li>
<li><p><code>min</code> &amp; <code>max</code>: Selects clusters at minimum or maximum metric values.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>Please note that finding the optimal number of clusters is a procedure
which normally requires decisions from the users, and as such can hardly be
fully automatized. Users are strongly advised to read the references
indicated below to look for guidance on how to choose their optimal
number(s) of clusters. Consider the "optimal" numbers of clusters returned
by this function as first approximation of the best numbers for your
bioregionalization.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Holt BG, Lessard J, Borregaard MK, Fritz SA, Araújo MB, Dimitrov D, Fabre P,
Graham CH, Graves GR, Jønsson Ka, Nogués-Bravo D, Wang Z, Whittaker RJ,
Fjeldså J &amp; Rahbek C (2013) An update of Wallace's zoogeographic regions of
the world. <em>Science</em> 339, 74-78.</p>
<p>Ficetola GF, Mazel F &amp; Thuiller W (2017) Global determinants of
zoogeographical boundaries. <em>Nature Ecology &amp; Evolution</em> 1, 0089.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>For more details illustrated with a practical example,
see the vignette:
<a href="https://biorgeo.github.io/bioregion/articles/a4_1_hierarchical_clustering.html#optimaln" class="external-link">https://biorgeo.github.io/bioregion/articles/a4_1_hierarchical_clustering.html#optimaln</a>.</p>
<p>Associated functions:
<a href="hclu_hierarclust.html">hclu_hierarclust</a></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Boris Leroy (<a href="mailto:leroy.boris@gmail.com">leroy.boris@gmail.com</a>) <br>
Maxime Lenormand (<a href="mailto:maxime.lenormand@inrae.fr">maxime.lenormand@inrae.fr</a>) <br>
Pierre Denelle (<a href="mailto:pierre.denelle@gmail.com">pierre.denelle@gmail.com</a>)</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">comat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">0</span><span class="op">:</span><span class="fl">1000</span>, size <span class="op">=</span> <span class="fl">500</span>, replace <span class="op">=</span> <span class="cn">TRUE</span>, prob <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="fl">1</span><span class="op">:</span><span class="fl">1001</span><span class="op">)</span>,</span></span>
<span class="r-in"><span><span class="fl">20</span>, <span class="fl">25</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="va">comat</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"Site"</span>,<span class="fl">1</span><span class="op">:</span><span class="fl">20</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">comat</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"Species"</span>,<span class="fl">1</span><span class="op">:</span><span class="fl">25</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">dissim</span> <span class="op">&lt;-</span> <span class="fu"><a href="dissimilarity.html">dissimilarity</a></span><span class="op">(</span><span class="va">comat</span>, metric <span class="op">=</span> <span class="st">"all"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># User-defined number of clusters</span></span></span>
<span class="r-in"><span><span class="va">tree</span> <span class="op">&lt;-</span> <span class="fu"><a href="hclu_hierarclust.html">hclu_hierarclust</a></span><span class="op">(</span><span class="va">dissim</span>,</span></span>
<span class="r-in"><span>                          optimal_tree_method <span class="op">=</span> <span class="st">"best"</span>,</span></span>
<span class="r-in"><span>                          n_clust <span class="op">=</span> <span class="fl">5</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Randomizing the dissimilarity matrix with 100 trials</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>  -- range of cophenetic correlation coefficients among trials: 0.787 - 0.7896</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Final tree has a 0.7896 cophenetic correlation coefficient with the initial dissimilarity matrix</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Determining the cut height to reach 5 groups...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> --&gt; 0.25</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Determining the cut height to reach 6 groups...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> --&gt; 0.234375</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Determining the cut height to reach 7 groups...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> --&gt; 0.2265625</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Determining the cut height to reach 8 groups...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> --&gt; 0.21875</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Determining the cut height to reach 9 groups...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> --&gt; 0.203125</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Determining the cut height to reach 10 groups...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> --&gt; 0.1875</span>
<span class="r-in"><span><span class="va">tree</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Clustering results for algorithm : hclu_hierarclust </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	(hierarchical clustering based on a dissimilarity matrix)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - Number of sites:  20 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - Name of dissimilarity metric:  Jaccard </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - Tree construction method:  average </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - Randomization of the dissimilarity matrix:  yes, number of trials 100 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - Method to compute the final tree:  Tree with the best cophenetic correlation coefficient </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - Cophenetic correlation coefficient:  0.79 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - Number of clusters requested by the user:  5 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Clustering results:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - Number of partitions:  6 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - Partitions are hierarchical</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - Number of clusters:  5 6 7 8 9 10 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - Height of cut of the hierarchical tree: 0.25 0.234 0.227 0.219 0.203 0.188 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">a</span> <span class="op">&lt;-</span> <span class="fu"><a href="bioregionalization_metrics.html">bioregionalization_metrics</a></span><span class="op">(</span><span class="va">tree</span>,</span></span>
<span class="r-in"><span>                                dissimilarity <span class="op">=</span> <span class="va">dissim</span>,</span></span>
<span class="r-in"><span>                                species_col <span class="op">=</span> <span class="st">"Node2"</span>,</span></span>
<span class="r-in"><span>                                site_col <span class="op">=</span> <span class="st">"Node1"</span>,</span></span>
<span class="r-in"><span>                                eval_metric <span class="op">=</span> <span class="st">"anosim"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Computing similarity-based metrics...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   - anosim OK</span>
<span class="r-in"><span>                                   </span></span>
<span class="r-in"><span><span class="fu">find_optimal_n</span><span class="op">(</span><span class="va">a</span>, criterion <span class="op">=</span> <span class="st">'increasing_step'</span>, plot <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Number of bioregionalizations: 6</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ...Caveat: be cautious with the interpretation of metric analyses with such a low number of bioregionalizations</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Searching for potential optimal number(s) of clusters based on the increasing_step method</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>  - Step method</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Search for an optimal number of clusters:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - 6  partition(s) evaluated</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - Range of clusters explored: from  5  to  10 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - Evaluated metric(s):  anosim </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Potential optimal partition(s):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - Criterion chosen to optimise the number of clusters:  increasing_step </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    (step quantile chosen:  0.99  (i.e., only the top 1 %  increase  in evaluation metrics  are used as break points for the number of clusters)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - Optimal partition(s) of clusters for each metric:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> anosim - 9</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Maxime Lenormand, Boris Leroy, Pierre Denelle.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

